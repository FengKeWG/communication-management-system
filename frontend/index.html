<!DOCTYPE html>
<html lang="zh">

<head>
    <meta charset="UTF-8">
    <title>登录</title>
    <link rel="stylesheet" href="/css/login.css">
</head>

<body>
    <form class="form-control" action="">
        <p class="title">登陆</p>
        <div class="input-field">
            <input required class="input" type="text" id="username" />
            <label class="label" for="username">输入用户名</label>
        </div>
        <div class="input-field">
            <input required class="input" type="password" id="password" />
            <label class="label" for="password">输入密码</label>
        </div>
        <a href="#" onclick="showForgotPasswordModal(event)">忘记密码?</a>
        <button class="submit-btn" type="button" onclick="login()">登陆</button>
    </form>

    <div id="forgotPasswordModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeForgotPasswordModal()">×</span>
            <h2>忘记密码</h2>
            <div id="verificationStep">
                <p>此功能仅限业务员使用。请输入您的信息进行验证：</p>
                <div class="input-field">
                    <input required class="input" type="text" id="fpUsername" autocomplete="username" />
                    <label class="label" for="fpUsername">用户名</label>
                </div>
                <div class="input-field">
                    <input required class="input" type="text" id="fpName" autocomplete="name" />
                    <label class="label" for="fpName">姓名</label>
                </div>
                <div style="display: flex; gap: 10px; margin-top: -5px;">
                    <div class="input-field" style="flex: 1;">
                        <input required class="input" type="number" id="fpBirthYear" min="1900" max="2100" />
                        <label class="label" for="fpBirthYear">年 (YYYY)</label>
                    </div>
                    <div class="input-field" style="flex: 1;">
                        <input required class="input" type="number" id="fpBirthMonth" min="1" max="12" />
                        <label class="label" for="fpBirthMonth">月 (MM)</label>
                    </div>
                    <div class="input-field" style="flex: 1;">
                        <input required class="input" type="number" id="fpBirthDay" min="1" max="31" />
                        <label class="label" for="fpBirthDay">日 (DD)</label>
                    </div>
                </div>
                <div class="input-field">
                    <input required class="input" type="email" id="fpEmail" autocomplete="email" />
                    <label class="label" for="fpEmail">邮箱</label>
                </div>
                <button class="submit-btn" type="button" onclick="handleVerificationSubmit()">验证</button>
                <p id="verificationError" class="error-message"></p>
            </div>
            <div id="resetStep" style="display: none;">
                <p>验证成功！请输入新密码。</p>
                <input type="hidden" id="verifiedUsername">
                <div class="input-field">
                    <input required class="input" type="password" id="fpNewPassword" autocomplete="new-password" />
                    <label class="label" for="fpNewPassword">新密码</label>
                </div>
                <div class="input-field">
                    <input required class="input" type="password" id="fpConfirmPassword" autocomplete="new-password" />
                    <label class="label" for="fpConfirmPassword">确认新密码</label>
                </div>
                <button class="submit-btn" type="button" onclick="handlePasswordResetSubmit()">重置密码</button>
                <p id="resetError" class="error-message"></p>
                <p id="resetSuccess" class="success-message"></p>
            </div>
        </div>
    </div>

    <script src="/js/login.js"></script>
</body>

</html>